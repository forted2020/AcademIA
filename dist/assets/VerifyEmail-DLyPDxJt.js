import{q as E,r as n,o as g,j as e}from"./index-CQcJGhZo.js";import{a as y}from"./index-t--hEgTQ.js";import{C as u}from"./CContainer-pv1BoYo7.js";import{C,a as x}from"./CRow-CCKjXgEG.js";import{C as h,a as j}from"./CCardBody-Da11kLgp.js";import{C as m}from"./CAlert-D4i-n8OW.js";import{a as v}from"./CButton-rOzXJk2W.js";import"./CCloseButton-RnxG4z8J.js";import"./Transition-BVVki2E3.js";const q=()=>{console.log("VerifyEmail: Renderizando componente");const[c]=E(),[o,f]=n.useState(""),[s,a]=n.useState(""),t=g();n.useEffect(()=>{console.log("VerifyEmail: Componente cargado"),(async()=>{var l;const i=c.get("token");if(console.log("VerifyEmail: Token extraído:",i),!i){a("No se proporcionó un token de verificación."),console.log("VerifyEmail: Error: No se proporcionó token");return}try{console.log("VerifyEmail: Enviando solicitud a /api/verify-email");const r=await y.post("/api/verify-email",{token:i});console.log("VerifyEmail: Respuesta recibida:",r.data),f(r.data.detail)}catch(r){if(console.error("VerifyEmail: Error en la solicitud:",r),r.response){const d=((l=r.response.data)==null?void 0:l.detail)||"Error desconocido";a(`Error: ${d}`),console.log("VerifyEmail: Error del servidor:",d)}else a("Error de red. Por favor, verifica tu conexión."),console.log("VerifyEmail: Error de red")}})()},[c,t]);const p=()=>{console.log("VerifyEmail: Botón Continuar presionado, redirigiendo a /login"),t("/login")};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(u,{children:e.jsx(C,{className:"justify-content-center",children:e.jsx(x,{md:8,lg:6,children:e.jsx(h,{children:e.jsxs(j,{className:"p-4",children:[e.jsx("h1",{children:"Verificación de Correo"}),e.jsx("p",{className:"text-body-secondary",children:"Confirmando dirección de correo"}),o&&e.jsx(m,{color:"success",className:"mb-3",children:o}),s&&e.jsx(m,{color:"danger",className:"mb-3",children:s}),(o||s)&&e.jsx(v,{color:"primary",onClick:p,children:"Continuar"})]})})})})})})};export{q as default};
